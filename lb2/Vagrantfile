Vagrant.configure(2) do |config|
  config.vm.box = "ubuntu/bionic64"
  config.vm.network "forwarded_port", guest:80, host:8080, auto_correct: true
  config.vm.network "forwarded_port", guest:2049, host:2049, auto_correct: true
  config.vm.network "private_network", ip: "192.168.10.20"
  config.vm.synced_folder ".", "/var/www/html"
config.vm.provider "virtualbox" do |vb|
  vb.memory = "1024" 
  vb.cpus = "1"
end
config.vm.provision "shell", inline: <<-SHELL
  sudo apt-get update
SHELL
config.vm.provision "shell", path: "apache_conf.sh"
config.vm.provision "shell", path: "nfs_conf.sh"
end

Vagrant.configure(2) do |tt|
  tt.vm.box = "ubuntu/bionic64"
  tt.vm.network "private_network", ip: "192.168.10.30"
  config.vm.provider "virtualbox" do |v|
    v.gui = true
  end
  config.vm.provision "shell", inline: "sudo apt-get update"
  config.vm.provision "shell", inline: "sudo apt-get install -y xfce4 virtualbox-guest-dkms virtualbox-guest-utils virtualbox-guest-x11"
  config.vm.provision "shell", inline: "sudo sed -i 's/allowed_users=.*$/allowed_users=anybody/' /etc/X11/Xwrapper.config"
end